<h2>Vehicle List</h2>
<!-- Search Bar -->
<div class="search-container">
  <input
    nz-input
    type="text"
    [(ngModel)]="searchQuery"
    (ngModelChange)="onSearch()"
    placeholder="Search by car model..."
  />
  <button (click)="onSearch()">Search</button>
</div>
<!-- Shows only when isLoading = true -->
<div *ngIf="isLoading">Loading vehicles...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<!-- Table Display -->
<div *ngIf="!isLoading && !error && vehicles.length > 0" class="table-container">
  <table>
    <thead>
      <tr>
        <th>Car Make</th>
        <th>Car Model</th>
        <th>Age (Years)</th>
        <th>Owner Name</th>
        <th>Email</th>
        <th>VIN</th>
        <th>Manufactured Date</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let vehicle of vehicles">
        <td>{{ vehicle.car_make }}</td>
        <td>{{ vehicle.car_model }}</td>
        <td>{{ vehicle.age_of_vehicle }}</td>
        <td>{{ vehicle.first_name }} {{ vehicle.last_name }}</td>
        <td>{{ vehicle.email }}</td>
        <td>{{ vehicle.vin }}</td>
        <td>{{ vehicle.manufactured_date }}</td>
      </tr>
    </tbody>
  </table>
</div>

<p *ngIf="!isLoading && !error && vehicles.length === 0">
  No vehicles found.
</p>
<!-- Pagination Controls -->
<div class="pagination" *ngIf="!isLoading && !error">
  <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
  <span>Page {{ currentPage }}</span>
  <button (click)="nextPage()" [disabled]="vehicles.length < pageSize">Next</button>
</div>